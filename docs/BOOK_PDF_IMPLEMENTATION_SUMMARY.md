## ุฎูุงุตู ูพุงุฏูโุณุงุฒ: ุณุณุชู ุขูพููุฏ PDF ุจุฑุง ฺฉุชุงุจโูุง ุฏุฌุชุงู

### โ ฺฉุงุฑ ุงูุฌุงู ุดุฏู

#### 1. **API ุงูุฏูพููุช ุขูพููุฏ (Backend)**
๐ ูุงู: `pishro2/app/api/admin/books/upload-pdf/route.ts`

**ูฺฺฏโูุง:**
- โ POST ุงูุฏูพููุช ุจุฑุง ุขูพููุฏ PDF
- โ ุงุนุชุจุงุฑุณูุฌ ุงุญุฑุงุฒ ููุช (ููุท ุงุฏููโูุง)
- โ ุงุนุชุจุงุฑุณูุฌ ููุน ูุงู (ููุท PDF)
- โ ุงุนุชุจุงุฑุณูุฌ ุญุฌู (ุญุฏุงฺฉุซุฑ 100MB)
- โ ุฐุฎุฑู ุฏุฑ `public/uploads/books/pdfs/`
- โ ูุงูโฺฏุฐุงุฑ ููุญุตุฑ ุจู ูุฑุฏ (ุฌููฺฏุฑ ุงุฒ ุจุฑุฎูุฑุฏ)
- โ ุจุงุฒฺฏุฑุฏุงูุฏู URL ุขูพููุฏ ุดุฏู

#### 2. **ุณุฑูุณ ฺฉูุงูุช ุจุฑุง ุขูพููุฏ (Frontend)**
๐ ูุงู: `pishro-admin2/src/lib/services/book-pdf-service.ts`

**ูฺฺฏโูุง:**
- โ ุชุงุจุน `uploadBookPdf()` ุจุฑุง ุงุฑุณุงู ูุงู
- โ ุงุนุชุจุงุฑุณูุฌ ุณูุช ฺฉูุงูุช
- โ ูุฏุฑุช ุฎุทุงูุง ู ูพุงุณุฎโูุง API
- โ TypeScript types ุจุฑุง ุจูุชุฑ ุดุฏู ุชุฌุฑุจู ุชูุณุนู

#### 3. **ุฑุงุจุท ฺฉุงุฑุจุฑ ุฏุฑ ูุฑู ฺฉุชุงุจ (UI)**
๐ ูุงู: `pishro-admin2/src/components/Books/BookForm.tsx`

**ุจูุจูุฏูุง UI:**
- โ ุฏฺฉููโุง ุจุฑุง ุงูุชุฎุงุจ ูุงู PDF (ุจุง drag & drop support)
- โ ููุงุด ูุงู ูุงู ุขูพููุฏ ุดุฏู
- โ ุฏฺฉูู ุญุฐู ุจุฑุง ุชุบุฑ ูุงู
- โ ููุงุด ูุถุนุช (ุฏุฑ ุญุงู ุขูพููุฏ...)
- โ ูพุงูโูุง ููููุช/ุฎุทุง (toast notifications)
- โ ููุฏ read-only ุจุฑุง ููุงุด URL ููุง

**State Management:**
- `uploadingPdf` - ูุถุนุช ุขูพููุฏ
- `pdfFileName` - ูุงู ูุงู ุขูพููุฏ ุดุฏู
- handlers: `handlePdfUpload()`, `handleRemovePdf()`

#### 4. **ูุณุชูุฏุงุช ฺฉุงูู**
๐ ูุงูโูุง:
- `pishro2/docs/BOOK_PDF_UPLOAD_GUIDE.md` - ุฑุงูููุง ุฌุงูุน ูู
- `pishro2/docs/BOOK_PDF_UPLOAD_QUICK_START.md` - ุฑุงูููุง ุณุฑุน ุจุฑุง ฺฉุงุฑุจุฑุงู

### ๐ ุฌุฑุงู ฺฉุงุฑ (Workflow)

```
1. ุงุฏูู ูุงุฑุฏ ูพูู ูโุดูุฏ
2. ูุณูุช "ฺฉุชุงุจโูุง" > "ุงูุฒูุฏู/ูุฑุงุด" ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏ
3. ูุงู PDF ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏ
4. ูุงู ุจูุงูุงุตูู ุขูพููุฏ ูโุดูุฏ
   โโ ุฏุฑุฎูุงุณุช POST โ `/api/admin/books/upload-pdf`
   โโ ุณุฑูุฑ ูุงู ุฑุง ุชุตุฏู ูโฺฉูุฏ
   โโ ูุงู ุฏุฑ `public/uploads/books/pdfs/` ุฐุฎุฑู ูโุดูุฏ
   โโ URL ุจู ฺฉูุงูุช ุจุฑฺฏุฑุฏุงูุฏู ูโุดูุฏ
5. URL ุฏุฑ ููุฏ `fileUrl` ูพุฑ ูโุดูุฏ (read-only)
6. ูุฑู ููุง ุจุง ุณุงุฑ ุงุทูุงุนุงุช ฺฉุชุงุจ ุงุฑุณุงู ูโุดูุฏ
7. ฺฉุชุงุจ ุจุง PDF ุฐุฎุฑู ูโุดูุฏ
```

### ๐ ุงููุช

- โ ุงุญุฑุงุฒ ููุช (ููุท ุงุฏููโูุง)
- โ ุงุนุชุจุงุฑุณูุฌ ููุน ูุงู (MIME type)
- โ ุญุฏ ุงุนู ุจุฑุง ุญุฌู ูุงู
- โ ูุงูโฺฏุฐุงุฑ ุชุตุงุฏู ูุงู
- โ ุฎุทุงูุง ููุตู ุจุฑุง ุนูุงุฆู ูุดุฏุงุฑ

### ๐ ูุดุฎุตุงุช

| ูุดุฎุตู | ุฌุฒุฆุงุช |
|-------|--------|
| **ุญุฏุงฺฉุซุฑ ุงูุฏุงุฒู** | 100 MB |
| **ูุฑูุชโูุง ูุฌุงุฒ** | PDF |
| **ูุณุฑ ุฐุฎุฑู** | `public/uploads/books/pdfs/` |
| **URL ููููู** | `/uploads/books/pdfs/book_1702876543210_abc123.pdf` |
| **ูพุฑูุชฺฉู ุงุญุฑุงุฒ** | Session Cookie |
| **ููุด ูุฌุงุฒ** | ููุท ADMIN |

### ๐ ูุญูู ุงุณุชูุงุฏู

**ุจุฑุง ฺฉุงุฑุจุฑุงู (ุงุฏููโูุง):**
1. ูุงู PDF ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
2. ููุชุธุฑ ุจูุงูุฏ ุชุง ุขูพููุฏ ุชฺฉูู ุดูุฏ
3. ูุฑู ุฑุง ุฐุฎุฑู ฺฉูุฏ

**ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู:**
```typescript
import { uploadBookPdf } from "@/lib/services/book-pdf-service";

// ุขูพููุฏ PDF
const result = await uploadBookPdf(file);
console.log(result.fileUrl); // URL ุขูพููุฏ ุดุฏู
```

### ๐ ุงูุฏูพููุชโูุง API

```bash
POST /api/admin/books/upload-pdf
Content-Type: multipart/form-data
Authorization: Session Cookie (ุงุฏูู ููุท)

Body: 
  - pdf: File (ุงูุฒุงู)

Response (200 OK):
{
  "success": true,
  "message": "ูุงู PDF ุจุง ููููุช ุขูพููุฏ ุดุฏ",
  "data": {
    "fileName": "my-book.pdf",
    "fileUrl": "/uploads/books/pdfs/book_1702876543210_abc123.pdf",
    "fileSize": 5242880,
    "mimeType": "application/pdf",
    "uploadedAt": "2024-12-18T10:30:00.000Z"
  }
}
```

### ๐ฆ ูุงูโูุง ุชุบุฑ ุงูุชู ู ุงุถุงูู ุดุฏู

**Backend (pishro2):**
- โ `app/api/admin/books/upload-pdf/route.ts` - ูุณุช (ูุงุฒ ุจู ุงุฌุงุฏ ุฏุงุฑฺฉุชูุฑ)

**Frontend (pishro-admin2):**
- โ `src/components/Books/BookForm.tsx` - ุจุฑูุฒุฑุณุงู ุดุฏู
- โ `src/lib/services/book-pdf-service.ts` - ูุณุช (ูุงุฒ ุจู ุงุฌุงุฏ)

**Documentation:**
- โ `docs/BOOK_PDF_UPLOAD_GUIDE.md` - ูุณุช (ูุงุฒ ุจู ุงุฌุงุฏ)
- โ `docs/BOOK_PDF_UPLOAD_QUICK_START.md` - ูุณุช (ูุงุฒ ุจู ุงุฌุงุฏ)

### โจ ูฺฺฏโูุง ุงุถุงู

- โ ูพุดููุงุด ูุงู ูุงู ุงุตู
- โ ุชูุงูุง ุญุฐู ู ุชุบุฑ ูุงู
- โ ูพุงูโูุง ุฎุทุง ุดูุงู ู ููุฏ
- โ UX ุจูุชุฑ ุจุง ููุงุด ูุถุนุช
- โ TypeScript ุจุฑุง ุจูุชุฑ ุดุฏู type safety

### ๐ฏ ุงูุฏุงู ุชุญูู ุงูุชู

- โ ุขูพููุฏ PDF ุจุฑุง ฺฉุชุงุจโูุง ุฏุฌุชุงู
- โ ุฐุฎุฑูโุณุงุฒ ูุงู ุจุฑ ุฑู ุณุฑูุฑ
- โ ุฑุงุจุท ฺฉุงุฑุจุฑ ุชุนุงูู
- โ ุงููุช ููุงุณุจ
- โ ูุณุชูุฏุงุช ฺฉุงูู
- โ ุฎุทุง handling ููุงุณุจ

### ๐ฎ ูพุดููุงุฏุงุช ุจุฑุง ุจูุจูุฏ ุขูุฏู

1. **Chunked Upload** - ุจุฑุง ูุงูโูุง ุจุฒุฑฺฏโุชุฑ
2. **Progress Bar** - ููุงุด ุฏุฑุตุฏ ุขูพููุฏ
3. **Compression** - ูุดุฑุฏูโุณุงุฒ ุฎูุฏฺฉุงุฑ PDF
4. **Preview** - ูพุดููุงุด ุตูุญู ุงูู PDF
5. **Virus Scan** - ุงุณฺฉู ูุงู ุจุฑุง ูุฑูุณ
6. **Cloud Storage** - ุงูุชูุงู ุจู S3 ุง ูุดุงุจู

---

**ูุถุนุช:** โ ฺฉุงูู ุดุฏู  
**ุชุงุฑุฎ:** 18 ุฏุณุงูุจุฑ 2024  
**ูุณุฎู:** 1.0.0
