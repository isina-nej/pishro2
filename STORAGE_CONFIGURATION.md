# ๐ Upload Configuration Guide

## ุชุบุฑ ูุณุฑ ุฐุฎุฑูโุณุงุฒ ูุงูโูุง

### โ **ุฑูุด ุขุณุงู (ูพุดููุงุฏ):**

#### **ูุฑุญูู 1: .env ุฑุง ุชุบุฑ ุจุฏุฏ**
```env
UPLOAD_BASE_DIR="D:\\new_storage_path"
```

#### **ูุฑุญูู 2: ุณุฑูุฑ ุฑุง restart ฺฉูุฏ**
```powershell
# ุงฺฏุฑ npm start ุงุณุชูุงุฏู ูโฺฉูุฏ
# Ctrl+C ุณูพุณ npm start ุฏูุจุงุฑู
```

#### **ูุฑุญูู 3: (ุงุฎุชุงุฑ) ูุงูโูุง ูุฏู ุฑุง ููุชูู ฺฉูุฏ**

ุงฺฏุฑ ูุงูโูุง ูุฏู ุฏุงุฑุฏ ฺฉู ูโุฎูุงูุฏ ุญูุธ ฺฉูุฏ:

```bash
curl -X POST http://localhost:3000/api/admin/storage \
  -H "Content-Type: application/json" \
  -d '{
    "fromPath": "D:\\pishro_uploads",
    "toPath": "D:\\new_storage_path",
    "dryRun": true
  }'
```

ุงฺฏุฑ ูุชุฌู ุฎูุจ ุจูุฏุ `dryRun: false` ุงุฑุณุงู ฺฉูุฏ ุชุง ูุงูโูุง ููุชูู ุดููุฏ.

---

## ๐ **ฺุทูุฑ ฺฉุงุฑ ูโฺฉูุฏุ**

1. **Automatic Directory Creation:**
   - ุงฺฏุฑ ุฏุงุฑฺฉุชูุฑ ุฌุฏุฏ ููุฌูุฏ ูุจุงุดุฏุ ุฎูุฏฺฉุงุฑ ุงุฌุงุฏ ูโุดูุฏ
   - ุงฺฏุฑ ุฏุงุฑฺฉุชูุฑ ููุฌูุฏ ุจุงุดุฏุ ุงุณุชูุงุฏู ูโุดูุฏ

2. **Immediate Effect:**
   - ุชูุงู ูุงูโูุง **ุฌุฏุฏ** ุจู ูุณุฑ ุฌุฏุฏ ุฑูุชูุฏ
   - ูุงูโูุง ูุฏู ุฏุฑ ูุณุฑ ูุฏู ูุณุชูุฏ (ูโุชูุงูุฏ ููุชูู ฺฉูุฏ)

3. **Path Resolution:**
   - ูุณุฑูุง ูุณุจ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจู ูุทูู ุชุจุฏู ูโุดููุฏ
   - ูพุดโูุฑุถ: `D:\pishro_uploads`

---

## ๐ **ูุซุงูโูุง ุนูู:**

### **ูุซุงู 1: SSD ุจู HDD ููุชูู ฺฉูุฏ**
```env
# ูุจู
UPLOAD_BASE_DIR="D:\\pishro_uploads"

# ุจุนุฏ
UPLOAD_BASE_DIR="E:\\storage\\pishro_uploads"
```

### **ูุซุงู 2: Network Drive ุงุณุชูุงุฏู ฺฉูุฏ**
```env
UPLOAD_BASE_DIR="\\\\server\\share\\pishro_uploads"
```

### **ูุซุงู 3: Path ุฑุง ููุตุฑูโุดูุฏ (default)**
```env
# ุญุฐู ุงู ูุงู ู system ุงุฒ ูพุดโูุฑุถ ุงุณุชูุงุฏู ูโฺฉูุฏ
```

---

## โ๏ธ **ูฺฉุงุช ููู:**

1. **ุฏุงุฑฺฉุชูุฑ ุจุงุฏ ูุงุจูโุฏุณุชุฑุณ ุจุงุดุฏ**
   - ูุทูุฆู ุดูุฏ ููุดุชู ู ุฎูุงูุฏู ุฏุฑ ุฏุงุฑฺฉุชูุฑ ุฌุฏุฏ ููฺฉู ุงุณุช

2. **ูุงูโูุง ูุฏู ุจุงู ูโูุงูุฏ**
   - ุงฺฏุฑ ูโุฎูุงูุฏ ุฏุงุฑฺฉุชูุฑ ูุฏู ุฑุง ุญุฐู ฺฉูุฏุ ุจุงุฏ ุฏุณุช ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูุฏ

3. **Permissions ููู ูุณุชูุฏ**
   - ุงฺฏุฑ ุฏุงุฑฺฉุชูุฑ ุดุจฺฉูโุง ุงุณุชุ ูุทูุฆู ุดูุฏ ุงุนุชุจุงุฑุงุช ุฏุณุชุฑุณ ุฏุฑุณุช ูุณุชูุฏ

---

## ๐ง **API Endpoints:**

### **GET /api/admin/storage** - ูุณุฑูุง ูุนู
```bash
curl http://localhost:3000/api/admin/storage
```

**ุฎุฑูุฌ:**
```json
{
  "success": true,
  "data": {
    "currentBase": "D:\\pishro_uploads",
    "booksPath": { "pdfs": { "dir": "...", "url": "..." }, ... },
    "videosPath": { "videos": { "dir": "...", "url": "..." } }
  }
}
```

### **POST /api/admin/storage** - ููุงุฌุฑุช ูุงูโูุง

**ุชุณุช (dry-run):**
```bash
curl -X POST http://localhost:3000/api/admin/storage \
  -H "Content-Type: application/json" \
  -d '{
    "fromPath": "D:\\pishro_uploads",
    "toPath": "E:\\new_uploads",
    "dryRun": true
  }'
```

**ุงุฌุฑุง:**
```bash
curl -X POST http://localhost:3000/api/admin/storage \
  -H "Content-Type: application/json" \
  -d '{
    "fromPath": "D:\\pishro_uploads",
    "toPath": "E:\\new_uploads",
    "dryRun": false
  }'
```

---

## โจ **ุฎูุงุตู:**

```
ุชุบุฑ ุฏูุฏ: .env (UPLOAD_BASE_DIR)
         โ
Restart:  ุณุฑูุฑ ุฑุง restart ฺฉูุฏ
         โ
Done!:    ุชูุงู ูุงูโูุง ุฌุฏุฏ ุจู ูุณุฑ ุฌุฏุฏ ูโุฑููุฏ
```

**ุจุณ ุงู ูุฏุฑ ุณุงุฏู ุงุณุช!** ๐
