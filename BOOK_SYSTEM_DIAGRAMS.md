# ğŸ“Š Ù†Ù…ÙˆØ¯Ø§Ø± Ø³ÛŒØ³ØªÙ… Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ - Ø¨ØµØ±ÛŒ ØªØ±

## ğŸ­ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ú©Ù„ÛŒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          PISHRO System                                  â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Ù¾Ù†Ù„ Ø§Ø¯Ø§Ø±ÛŒ              â”‚         â”‚    Ø³Ø§ÛŒØª Ø§ØµÙ„ÛŒ             â”‚   â”‚
â”‚  â”‚  (pishro-admin2)        â”‚         â”‚    (pishro2)             â”‚   â”‚
â”‚  â”‚                          â”‚         â”‚                           â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚ â”‚ ÙØ±Ù… Ø§Ø¶Ø§ÙÙ‡/ÙˆÛŒØ±Ø§ÛŒØ´     â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ ØµÙØ­Ù‡ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡     â”‚   â”‚   â”‚
â”‚  â”‚ â”‚  Ú©ØªØ§Ø¨                â”‚ â”‚         â”‚ â”‚ libraryContent    â”‚   â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚          â”‚               â”‚         â”‚         â”‚                  â”‚   â”‚
â”‚  â”‚          â”‚               â”‚         â”‚         â”‚                  â”‚   â”‚
â”‚  â”‚          â†“               â”‚         â”‚         â†“                  â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚ â”‚ Upload ÙØ§ÛŒÙ„â€ŒÙ‡Ø§       â”‚ â”‚         â”‚ â”‚ BookGrid Component â”‚   â”‚   â”‚
â”‚  â”‚ â”‚ - ØªØµÙˆÛŒØ± Ø¬Ù„Ø¯          â”‚ â”‚         â”‚ â”‚ - ÙÛŒÙ„ØªØ±â€ŒÙ‡Ø§        â”‚   â”‚   â”‚
â”‚  â”‚ â”‚ - PDF                â”‚ â”‚         â”‚ â”‚ - Ø¬Ø³ØªØ¬Ùˆ          â”‚   â”‚   â”‚
â”‚  â”‚ â”‚ - ØµÙˆØª                â”‚ â”‚         â”‚ â”‚ - ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒ       â”‚   â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â”‚                                      â”‚                      â”‚
â”‚           â”‚ POST /api/admin/books               â”‚ GET /api/library     â”‚
â”‚           â”‚ PATCH /api/admin/books/:id          â”‚                      â”‚
â”‚           â”‚ DELETE /api/admin/books/:id         â”‚                      â”‚
â”‚           â”‚                                      â”‚                      â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                              â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   MongoDB Database   â”‚
                    â”‚   (Atlas Cloud)      â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ DigitalBook Records  â”‚
                    â”‚ - Title              â”‚
                    â”‚ - Author             â”‚
                    â”‚ - Description        â”‚
                    â”‚ - Cover URL          â”‚
                    â”‚ - PDF URL            â”‚
                    â”‚ - Audio URL          â”‚
                    â”‚ - Rating/Views/DLs   â”‚
                    â”‚ - Tags Relations     â”‚
                    â”‚ - CreatedAt/UpdatedAtâ”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â†‘
                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                       â”‚
                    â†“                       â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Cloud Storage   â”‚    â”‚  Cloud Storage   â”‚
         â”‚  (Images)        â”‚    â”‚  (PDFs/Audio)    â”‚
         â”‚                  â”‚    â”‚                  â”‚
         â”‚ /uploads/        â”‚    â”‚ /uploads/        â”‚
         â”‚  covers/         â”‚    â”‚  books/          â”‚
         â”‚  *.jpg           â”‚    â”‚  *.pdf           â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  *.mp3           â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Ø¬Ø±ÛŒØ§Ù† Ø§ÙØ²ÙˆØ¯Ù† Ú©ØªØ§Ø¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Ù…Ø¯ÛŒØ± Ø¯Ø§Ø®Ù„ Ù¾Ù†Ù„       â”‚
â”‚   ÙØ±Ù… Ø±Ø§ Ù¾Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Title: "Ú©ØªØ§Ø¨ Ø¬Ø¯ÛŒØ¯"
         â”‚ Author: "Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡"
         â”‚ ...
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Upload Image/PDF/Audio               â”‚
â”‚   Ø¯Ø±ÙˆÙ† Form                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FormData Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯              â”‚
â”‚   POST /api/admin/books                â”‚
â”‚                                        â”‚
â”‚   Headers: Authorization + Admin Role  â”‚
â”‚   Body: {                              â”‚
â”‚     title,                             â”‚
â”‚     slug,                              â”‚
â”‚     author,                            â”‚
â”‚     description,                       â”‚
â”‚     cover (normalized URL),            â”‚
â”‚     fileUrl (PDF),                     â”‚
â”‚     audioUrl,                          â”‚
â”‚     tagIds,                            â”‚
â”‚     ...                                â”‚
â”‚   }                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Handler                          â”‚
â”‚   app/api/admin/books/route.ts         â”‚
â”‚                                        â”‚
â”‚   1. âœ… Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª (Admin check)      â”‚
â”‚   2. âœ… Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ (Required fields)  â”‚
â”‚   3. âœ… Ø¨Ø±Ø±Ø³ÛŒ slug Ù…Ù†Ø­ØµØ±â€ŒØ¨ÙˆØ¯Ù†       â”‚
â”‚   4. âœ… Ù†Ø±Ù…Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ URLâ€ŒÙ‡Ø§ÛŒ ØªØµÙˆÛŒØ±    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Prisma Create Query                  â”‚
â”‚                                        â”‚
â”‚   await prisma.digitalBook.create({    â”‚
â”‚     data: {                            â”‚
â”‚       title,                           â”‚
â”‚       slug (unique),                   â”‚
â”‚       author,                          â”‚
â”‚       ...                              â”‚
â”‚       tagIds (relations),              â”‚
â”‚     },                                 â”‚
â”‚     include: {                         â”‚
â”‚       relatedTags: { select: ... }     â”‚
â”‚     }                                  â”‚
â”‚   })                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MongoDB Insert                       â”‚
â”‚                                        â”‚
â”‚   db.digitalbooks.insertOne({          â”‚
â”‚     _id: ObjectId,                     â”‚
â”‚     title,                             â”‚
â”‚     slug,                              â”‚
â”‚     author,                            â”‚
â”‚     ...                                â”‚
â”‚     createdAt: ISODate(),              â”‚
â”‚     updatedAt: ISODate()               â”‚
â”‚   })                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Response 201 Created                 â”‚
â”‚                                        â”‚
â”‚   {                                    â”‚
â”‚     status: "success",                 â”‚
â”‚     message: "Book created",           â”‚
â”‚     data: {                            â”‚
â”‚       id: "507f1f77bcf86cd799439011",â”‚
â”‚       title,                           â”‚
â”‚       slug,                            â”‚
â”‚       ...                              â”‚
â”‚       createdAt                        â”‚
â”‚     }                                  â”‚
â”‚   }                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   âœ… Ú©ØªØ§Ø¨ Ø§Ù„Ø¢Ù† Ù…ÙˆØ¬ÙˆØ¯ Ø§Ø³Øª             â”‚
â”‚   Ùˆ Ø¯Ø± Ø³Ø§ÛŒØª Ø§ØµÙ„ÛŒ Ù‚Ø§Ø¨Ù„ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø³Øª     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœï¸ Ø¬Ø±ÛŒØ§Ù† ÙˆÛŒØ±Ø§ÛŒØ´ Ú©ØªØ§Ø¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Ù…Ø¯ÛŒØ± Ù…ÙˆØ¬ÙˆØ¯       â”‚
â”‚   Ú©ØªØ§Ø¨ Ø±Ø§ ÙˆÛŒØ±Ø§ÛŒØ´    â”‚
â”‚   Ù…ÛŒâ€ŒÚ©Ù†Ø¯            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ ØªØºÛŒÛŒØ±Ø§Øª: price: 200000
         â”‚          isFeatured: false
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PATCH /api/admin/books/:id         â”‚
â”‚                                      â”‚
â”‚   Headers: Authorization + Admin     â”‚
â”‚   Body: {                            â”‚
â”‚     price: 200000,                   â”‚
â”‚     isFeatured: false                â”‚
â”‚   }                                  â”‚
â”‚   (ÙÙ‚Ø· ÙÛŒÙ„Ø¯â€ŒÙ‡Ø§ÛŒ ØªØºÛŒÛŒØ± ÛŒØ§ÙØªÙ‡)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Handler                        â”‚
â”‚   app/api/admin/books/[id]/route.ts  â”‚
â”‚                                      â”‚
â”‚   1. âœ… Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª                   â”‚
â”‚   2. âœ… Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ Ú©ØªØ§Ø¨             â”‚
â”‚   3. âœ… Ø§Ú¯Ø± slug ØªØºÛŒÛŒØ±: ÛŒÚ©ØªØ§ÛŒÛŒ Ú†Ú©   â”‚
â”‚   4. âœ… Prepare update data          â”‚
â”‚      (ÙÙ‚Ø· ÙÛŒÙ„Ø¯â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Prisma Update Query                â”‚
â”‚                                      â”‚
â”‚   await prisma.digitalBook.update({  â”‚
â”‚     where: { id },                   â”‚
â”‚     data: {                          â”‚
â”‚       price: 200000,                 â”‚
â”‚       isFeatured: false              â”‚
â”‚       // updatedAt Ø®ÙˆØ¯Ú©Ø§Ø±            â”‚
â”‚     },                               â”‚
â”‚     include: { relatedTags }         â”‚
â”‚   })                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MongoDB Update                     â”‚
â”‚                                      â”‚
â”‚   db.digitalbooks.updateOne(         â”‚
â”‚     { _id: ObjectId },               â”‚
â”‚     {                                â”‚
â”‚       $set: {                        â”‚
â”‚         price: 200000,               â”‚
â”‚         isFeatured: false,           â”‚
â”‚         updatedAt: ISODate()         â”‚
â”‚       }                              â”‚
â”‚     }                                â”‚
â”‚   )                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Response 200 OK                    â”‚
â”‚                                      â”‚
â”‚   {                                  â”‚
â”‚     status: "success",               â”‚
â”‚     message: "Book updated",         â”‚
â”‚     data: { ... updated book ... }   â”‚
â”‚   }                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   âœ… ØªØºÛŒÛŒØ±Ø§Øª ÙÙˆØ±ÛŒ Ø¯Ø± Ø³Ø§ÛŒØª            â”‚
â”‚      (Cache invalidate Ù…ÛŒâ€ŒØ´ÙˆØ¯)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“– Ø¬Ø±ÛŒØ§Ù† Ù†Ù…Ø§ÛŒØ´ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Ú©Ø§Ø±Ø¨Ø± Ø³Ø§ÛŒØª Ø§ØµÙ„ÛŒ      â”‚
â”‚   Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ø±Ø§ Ø¨Ø§Ø²      â”‚
â”‚   Ù…ÛŒâ€ŒÚ©Ù†Ø¯              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ libraryContent.tsx
         â”‚ useBooksList Hook
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   GET /api/library                     â”‚
â”‚                                        â”‚
â”‚   Query Parameters:                    â”‚
â”‚   - page: 1                            â”‚
â”‚   - limit: 12                          â”‚
â”‚   - category: "Ø§Ø±Ø² Ø¯ÛŒØ¬ÛŒØªØ§Ù„" (optional)â”‚
â”‚   - search: "Ú©Ø±ÛŒÙ¾ØªÙˆ" (optional)       â”‚
â”‚   - sort: "newest" (optional)          â”‚
â”‚   - featured: true (optional)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Handler                          â”‚
â”‚   app/api/library/route.ts             â”‚
â”‚                                        â”‚
â”‚   1. Parse Query Parameters            â”‚
â”‚   2. Build WHERE clause (Prisma)      â”‚
â”‚   3. Build ORDER BY clause            â”‚
â”‚   4. Add pagination (skip, take)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MongoDB Query Construction           â”‚
â”‚                                        â”‚
â”‚   db.digitalbooks.find({              â”‚
â”‚     category: "Ø§Ø±Ø² Ø¯ÛŒØ¬ÛŒØªØ§Ù„",         â”‚
â”‚     title: { $regex: "Ú©Ø±ÛŒÙ¾ØªÙˆ" },     â”‚
â”‚     isFeatured: true                   â”‚
â”‚   })                                   â”‚
â”‚   .sort({ createdAt: -1 })            â”‚
â”‚   .skip(0)                             â”‚
â”‚   .limit(12)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MongoDB Returns Results              â”‚
â”‚                                        â”‚
â”‚   [                                    â”‚
â”‚     {                                  â”‚
â”‚       _id: ObjectId,                   â”‚
â”‚       title: "Ø°Ù‡Ù† Ù…ÛŒÙ„ÛŒÙˆÙ†Ø± Ú©Ø±ÛŒÙ¾ØªÙˆ",    â”‚
â”‚       author: "Ø¢Ø±Ù…Ø§Ù† ØµÙÙˆÛŒ",           â”‚
â”‚       ...                              â”‚
â”‚     },                                 â”‚
â”‚     ...                                â”‚
â”‚   ]                                    â”‚
â”‚                                        â”‚
â”‚   Count Total: 45                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Response 200 OK (Paginated)          â”‚
â”‚                                        â”‚
â”‚   {                                    â”‚
â”‚     status: "success",                 â”‚
â”‚     data: {                            â”‚
â”‚       items: [ ... 12 books ... ],    â”‚
â”‚       total: 45,                       â”‚
â”‚       page: 1,                         â”‚
â”‚       limit: 12,                       â”‚
â”‚       totalPages: 4                    â”‚
â”‚     }                                  â”‚
â”‚   }                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   BookGrid Component                   â”‚
â”‚   React Query Caching (10 min)         â”‚
â”‚                                        â”‚
â”‚   books.map(book => (                  â”‚
â”‚     <Link to={book.slug}>              â”‚
â”‚       <BookCard>                       â”‚
â”‚         <Image src={book.cover} />    â”‚
â”‚         <h3>{book.title}</h3>          â”‚
â”‚         <p>{book.author}</p>           â”‚
â”‚       </BookCard>                      â”‚
â”‚     </Link>                            â”‚
â”‚   ))                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   âœ… Ù„ÛŒØ³Øª Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡         â”‚
â”‚      Ù…ÛŒâ€ŒØ´ÙˆØ¯                           â”‚
â”‚                                        â”‚
â”‚   - ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒ: 1-12 Ø§Ø² 45 Ú©ØªØ§Ø¨      â”‚
â”‚   - ÙÛŒÙ„ØªØ±â€ŒÙ‡Ø§ Ù…Ø´Ø®Øµ Ø§Ø³Øª               â”‚
â”‚   - Ú©Ø§Ø±Ø¨Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¬Ø³ØªØ¬Ùˆ Ú©Ù†Ø¯         â”‚
â”‚   - Ú©Ø§Ø±Ø¨Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¯Ø³ØªÙ‡ ØªØºÛŒÛŒØ± Ø¯Ù‡Ø¯    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“– Ø¬Ø±ÛŒØ§Ù† Ù†Ù…Ø§ÛŒØ´ Ø¬Ø²Ø¦ÛŒØ§Øª Ú©ØªØ§Ø¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Ú©Ø§Ø±Ø¨Ø± Ø±ÙˆÛŒ Ú©ØªØ§Ø¨        â”‚
â”‚   "Ú©Ø±ÛŒÙ¾ØªÙˆ Ù…Ø§ÛŒÙ†Ø¯Ø³Øª"      â”‚
â”‚   Ú©Ù„ÛŒÚ© Ù…ÛŒâ€ŒÚ©Ù†Ø¯           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Link: /library/crypto-mindset
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Page: library/[slug]/page.tsx          â”‚
â”‚                                          â”‚
â”‚   1. Fetch by slug:                      â”‚
â”‚   const book = await prisma.digitalBook  â”‚
â”‚     .findUnique({                        â”‚
â”‚       where: { slug },                   â”‚
â”‚       select: { id: true }               â”‚
â”‚     })                                   â”‚
â”‚                                          â”‚
â”‚   2. Check if exists:                    â”‚
â”‚   if (!book) return notFound()            â”‚
â”‚                                          â”‚
â”‚   3. Pass ID to Component:               â”‚
â”‚   return <BookDetail bookId={book.id} /> â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ bookId: "507f1f77bcf86cd799439011"
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   BookDetail Component                   â”‚
â”‚   useBookDetail Hook                     â”‚
â”‚                                          â”‚
â”‚   const { data: book, isLoading }        â”‚
â”‚     = useBookDetail(bookId)              â”‚
â”‚                                          â”‚
â”‚   GET /api/library/:id                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Handler                            â”‚
â”‚   app/api/library/[id]/route.ts          â”‚
â”‚                                          â”‚
â”‚   1. Find book by ID                     â”‚
â”‚   2. âœ… Increment views counter         â”‚
â”‚   3. Return full book data               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Response 200 OK                        â”‚
â”‚                                          â”‚
â”‚   {                                      â”‚
â”‚     status: "success",                   â”‚
â”‚     data: {                              â”‚
â”‚       id,                                â”‚
â”‚       title: "Ø°Ù‡Ù† Ù…ÛŒÙ„ÛŒÙˆÙ†Ø± Ú©Ø±ÛŒÙ¾ØªÙˆ",      â”‚
â”‚       author: "Ø¢Ø±Ù…Ø§Ù† ØµÙÙˆÛŒ",             â”‚
â”‚       description: "...",                â”‚
â”‚       cover: "https://...",              â”‚
â”‚       fileUrl: "https://...",            â”‚
â”‚       audioUrl: "https://...",           â”‚
â”‚       rating: 9.2,                       â”‚
â”‚       votes: 2780,                       â”‚
â”‚       views: 1251,  â† Incremented       â”‚
â”‚       downloads: 450,                    â”‚
â”‚       ...                                â”‚
â”‚     }                                    â”‚
â”‚   }                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   UI Render                              â”‚
â”‚                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚             â”‚                    â”‚   â”‚
â”‚   â”‚  Cover:     â”‚  Title:           â”‚   â”‚
â”‚   â”‚   [Image]   â”‚  Ø°Ù‡Ù† Ù…ÛŒÙ„ÛŒÙˆÙ†Ø±      â”‚   â”‚
â”‚   â”‚             â”‚                    â”‚   â”‚
â”‚   â”‚  Rate: â­    â”‚  Author: Ø¢Ø±Ù…Ø§Ù†    â”‚   â”‚
â”‚   â”‚  9.2 (2780) â”‚  Views: ğŸ‘ï¸ 1251   â”‚   â”‚
â”‚   â”‚             â”‚  DL: ğŸ“¥ 450       â”‚   â”‚
â”‚   â”‚  [Download] â”‚  Time: â±ï¸ 9h     â”‚   â”‚
â”‚   â”‚   PDF       â”‚                    â”‚   â”‚
â”‚   â”‚  [Download] â”‚  Description:     â”‚   â”‚
â”‚   â”‚   Audio     â”‚  "Ù†Ø­ÙˆÙ‡ ØªÙÚ©Ø±..."   â”‚   â”‚
â”‚   â”‚             â”‚                    â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                          â”‚
â”‚   âœ… Ú©ØªØ§Ø¨ Ø¨Ù‡â€ŒØ·ÙˆØ± Ú©Ø§Ù…Ù„ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡     â”‚
â”‚      Ù…ÛŒâ€ŒØ´ÙˆØ¯                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¾ Ù…Ø¯Ù„ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            MongoDB (Primary Store)             â”‚
â”‚                                                â”‚
â”‚  Collection: digitalbooks                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ _id: ObjectId (Unique)                   â”‚  â”‚
â”‚  â”‚ title: String (Indexed)                  â”‚  â”‚
â”‚  â”‚ slug: String (Unique, Indexed)           â”‚  â”‚
â”‚  â”‚ author: String (Indexed)                 â”‚  â”‚
â”‚  â”‚ description: String                      â”‚  â”‚
â”‚  â”‚ cover: URL (String)                      â”‚  â”‚
â”‚  â”‚ publisher: String                        â”‚  â”‚
â”‚  â”‚ year: Number                             â”‚  â”‚
â”‚  â”‚ pages: Number                            â”‚  â”‚
â”‚  â”‚ isbn: String                             â”‚  â”‚
â”‚  â”‚ language: String                         â”‚  â”‚
â”‚  â”‚ rating: Float (Default: 0)               â”‚  â”‚
â”‚  â”‚ votes: Int (Default: 0)                  â”‚  â”‚
â”‚  â”‚ views: Int (Default: 0) â¬†ï¸ Auto-Inc    â”‚  â”‚
â”‚  â”‚ downloads: Int (Default: 0)              â”‚  â”‚
â”‚  â”‚ category: String (Indexed)               â”‚  â”‚
â”‚  â”‚ formats: Array[String]                   â”‚  â”‚
â”‚  â”‚ status: Array[String]                    â”‚  â”‚
â”‚  â”‚ tags: Array[String]                      â”‚  â”‚
â”‚  â”‚ tagIds: Array[ObjectId]                  â”‚  â”‚
â”‚  â”‚ readingTime: String                      â”‚  â”‚
â”‚  â”‚ isFeatured: Boolean (Indexed)            â”‚  â”‚
â”‚  â”‚ price: Number (Optional)                 â”‚  â”‚
â”‚  â”‚ fileUrl: URL (String)                    â”‚  â”‚
â”‚  â”‚ audioUrl: URL (String)                   â”‚  â”‚
â”‚  â”‚ createdAt: ISODate (Indexed)            â”‚  â”‚
â”‚  â”‚ updatedAt: ISODate (Auto-Update)        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                â”‚
â”‚  Indices:                                      â”‚
â”‚  - { _id: 1 } (Default)                       â”‚
â”‚  - { slug: 1 } (Unique)                       â”‚
â”‚  - { title: 1, author: 1 }                    â”‚
â”‚  - { category: 1 }                            â”‚
â”‚  - { isFeatured: 1, createdAt: -1 }          â”‚
â”‚  - { createdAt: -1 } (Latest books)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘
         â”‚ Relations via tagIds
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                           â”‚
    â†“                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Collection: tags â”‚  â”‚ Cloud Storage    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ _id          â”‚ â”‚  â”‚ â”‚ /uploads/    â”‚ â”‚
â”‚ â”‚ title        â”‚ â”‚  â”‚ â”‚  covers/     â”‚ â”‚
â”‚ â”‚ slug         â”‚ â”‚  â”‚ â”‚  *.jpg       â”‚ â”‚
â”‚ â”‚ description  â”‚ â”‚  â”‚ â”‚  books/      â”‚ â”‚
â”‚ â”‚ ...          â”‚ â”‚  â”‚ â”‚  *.pdf       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â”‚  audio/      â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚  *.mp3       â”‚ â”‚
                      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Ù†Ù‚Ø´â€ŒÙ‡Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Role-Based Access Control              â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     ADMIN        â”‚          â”‚     PUBLIC USER  â”‚   â”‚
â”‚  â”‚                  â”‚          â”‚                  â”‚   â”‚
â”‚  â”‚ âœ… POST /admin   â”‚          â”‚ âŒ POST /admin   â”‚   â”‚
â”‚  â”‚ âœ… PATCH /admin  â”‚          â”‚ âŒ PATCH /admin  â”‚   â”‚
â”‚  â”‚ âœ… DELETE /admin â”‚          â”‚ âŒ DELETE /admin â”‚   â”‚
â”‚  â”‚ âœ… GET /admin    â”‚          â”‚ âŒ GET /admin    â”‚   â”‚
â”‚  â”‚    (list filter) â”‚          â”‚                  â”‚   â”‚
â”‚  â”‚                  â”‚          â”‚                  â”‚   â”‚
â”‚  â”‚ âœ… GET /library  â”‚          â”‚ âœ… GET /library  â”‚   â”‚
â”‚  â”‚ âœ… GET /library/:idâ”‚        â”‚ âœ… GET /library/:idâ”‚  â”‚
â”‚  â”‚ âœ… Download      â”‚          â”‚ âœ… Download      â”‚   â”‚
â”‚  â”‚                  â”‚          â”‚                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â”‚  Auth Check: auth() â†’ session.user.role                â”‚
â”‚  For Admin APIs: if (role !== "ADMIN") forbiddenResponse
â”‚  For Public APIs: No auth required                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš¡ Performance Features

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Client-Side Caching                â”‚
â”‚      (React Query)                      â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ staleTime: 10 minutes           â”‚   â”‚
â”‚  â”‚ gcTime: 30 minutes              â”‚   â”‚
â”‚  â”‚ retry: 2 times                  â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚ Cache Keys:                     â”‚   â”‚
â”‚  â”‚ - ["books", "list", params]    â”‚   â”‚
â”‚  â”‚ - ["books", "detail", id]       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Server-Side Optimization           â”‚
â”‚                                         â”‚
â”‚  â€¢ Pagination: max 12-50 per page      â”‚
â”‚  â€¢ Indexed queries                      â”‚
â”‚  â€¢ Efficient filtering                  â”‚
â”‚  â€¢ Counter increments (views, DLs)     â”‚
â”‚  â€¢ Include relations only when needed   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
