# ğŸ“š Ù†Ø¸Ø§Ù… Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ - Ø¬Ø±ÛŒØ§Ù† Ú©Ø§Ù…Ù„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§

## ğŸ¯ Ø®Ù„Ø§ØµÙ‡ Ú©Ù„ÛŒ
Ø³ÛŒØ³ØªÙ… Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ Ø¯Ùˆ Ø¨Ø®Ø´ Ø¯Ø§Ø±Ø¯:
- **Ù¾Ù†Ù„ Ø§Ø¯Ø§Ø±ÛŒ** (pishro-admin2): Ø¨Ø±Ø§ÛŒ Ø§Ø¶Ø§ÙÙ‡/ÙˆÛŒØ±Ø§ÛŒØ´ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§
- **Ø³Ø§ÛŒØª Ø§ØµÙ„ÛŒ** (pishro2): Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†

---

## ğŸ“¥ Ø¨Ø®Ø´ Ø§ÙˆÙ„: Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©ØªØ§Ø¨ Ø§Ø² Ù¾Ù†Ù„ Ø§Ø¯Ø§Ø±ÛŒ

### 1ï¸âƒ£ ÙØ±ÙˆØ´â€ŒØ¯Ù‡Ù†Ø¯Ù‡â€ŒÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ (Ø¬Ø¯ÙˆÙ„ Ù¾Ø§ÛŒÚ¯Ø§Ù‡â€ŒØ¯Ø§Ø¯Ù‡)

**Ù…Ø¯Ù„: `DigitalBook`** Ø¯Ø± ÙØ§ÛŒÙ„ `pishro-admin2/prisma/schema.prisma`

```prisma
model DigitalBook {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  title       String                          // Ø¹Ù†ÙˆØ§Ù† Ú©ØªØ§Ø¨
  slug        String   @unique               // URL-friendly identifier
  author      String                          // Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡
  description String                          // ØªÙˆØ¶ÛŒØ­
  cover       String?                         // URL ØªØµÙˆÛŒØ± Ø¬Ù„Ø¯
  publisher   String?                         // Ù†Ø§Ø´Ø±
  year        Int                             // Ø³Ø§Ù„ Ø§Ù†ØªØ´Ø§Ø±
  pages       Int?                            // ØªØ¹Ø¯Ø§Ø¯ ØµÙØ­Ø§Øª
  isbn        String?                         // Ø´Ù…Ø§Ø±Ù‡ ISBN
  language    String   @default("ÙØ§Ø±Ø³ÛŒ")      // Ø²Ø¨Ø§Ù†
  rating      Float    @default(0)            // Ø§Ù…ØªÛŒØ§Ø² (0-5 Ø³ØªØ§Ø±Ù‡)
  votes       Int      @default(0)            // ØªØ¹Ø¯Ø§Ø¯ Ø±Ø§ÛŒâ€ŒÙ‡Ø§
  views       Int      @default(0)            // ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²Ø¯ÛŒØ¯â€ŒÙ‡Ø§
  downloads   Int      @default(0)            // ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø§Ù†Ù„ÙˆØ¯â€ŒÙ‡Ø§
  category    String                          // Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ
  formats     String[]                        // ÙØ±Ù…Øªâ€ŒÙ‡Ø§: ["Ø¬Ù„Ø¯ Ø³Ø®Øª", "Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©ÛŒ", "ØµÙˆØªÛŒ"]
  status      String[]                        // ÙˆØ¶Ø¹ÛŒØª: ["Ø¬Ø¯ÛŒØ¯", "Ù¾Ø±ÙØ±ÙˆØ´", "ÙˆÛŒÚ˜Ù‡"]
  tags        String[]                        // ØªÚ¯â€ŒÙ‡Ø§ÛŒ Ø¢Ø²Ø§Ø¯
  readingTime String?                         // Ø²Ù…Ø§Ù† Ù…Ø·Ø§Ù„Ø¹Ù‡
  isFeatured  Boolean  @default(false)        // Ø¢ÛŒØ§ ÙˆÛŒÚ˜Ù‡ Ø§Ø³Øª
  price       Int?                            // Ù‚ÛŒÙ…Øª
  fileUrl     String?                         // Ù„ÛŒÙ†Ú© ÙØ§ÛŒÙ„ PDF
  audioUrl    String?                         // Ù„ÛŒÙ†Ú© ÙØ§ÛŒÙ„ ØµÙˆØªÛŒ

  relatedTags Tag[]    @relation("BookTags", fields: [tagIds], references: [id])
  tagIds      String[] @db.ObjectId           // Ø¢ÛŒØ¯ÛŒ ØªÚ¯â€ŒÙ‡Ø§ÛŒ Ù…Ø±ØªØ¨Ø·

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
```

### 2ï¸âƒ£ Ù†Ù‚Ø·Ù‡ ÙˆØ±ÙˆØ¯ Ø¨Ø±Ø§ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† (API)

**ÙØ§ÛŒÙ„:** `pishro2/app/api/admin/books/route.ts`

**End Point:** `POST /api/admin/books`

#### Ø¯Ø±Ø®ÙˆØ§Ø³Øª (Request Body):
```json
{
  "title": "Ø°Ù‡Ù† Ù…ÛŒÙ„ÛŒÙˆÙ†Ø± Ú©Ø±ÛŒÙ¾ØªÙˆ",
  "slug": "crypto-mindset",
  "author": "Ø¢Ø±Ù…Ø§Ù† ØµÙÙˆÛŒ",
  "description": "Ù†Ø­ÙˆÙ‡â€ŒÛŒ ØªÙÚ©Ø± Ùˆ ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒ Ù…Ø¹Ø§Ù…Ù„Ù‡â€ŒÚ¯Ø±Ø§Ù† Ø¨Ø²Ø±Ú¯",
  "cover": "/uploads/covers/crypto.jpg",
  "publisher": "Ù†Ø§Ø´Ø± Ø´Ø§Ø®ØµÙ‡",
  "year": 2025,
  "pages": 320,
  "isbn": "978-1234567890",
  "language": "ÙØ§Ø±Ø³ÛŒ",
  "category": "Ø§Ø±Ø² Ø¯ÛŒØ¬ÛŒØªØ§Ù„",
  "formats": ["Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©ÛŒ", "ØµÙˆØªÛŒ"],
  "status": ["Ø¬Ø¯ÛŒØ¯"],
  "tags": ["Ú©Ø±ÛŒÙ¾ØªÙˆ", "Ø¨ÛŒØªâ€ŒÚ©ÙˆÛŒÙ†", "ØªØ­Ù„ÛŒÙ„"],
  "tagIds": ["tag-id-1", "tag-id-2"],
  "readingTime": "9 Ø³Ø§Ø¹Øª",
  "isFeatured": true,
  "price": 150000,
  "fileUrl": "/uploads/books/crypto.pdf",
  "audioUrl": "/uploads/audio/crypto.mp3"
}
```

#### ÙØ±Ø¢ÛŒÙ†Ø¯ Ø°Ø®ÛŒØ±Ù‡:
1. âœ… **ØªØ§ÛŒÛŒØ¯ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª**: ÙÙ‚Ø· admin Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†Ø¯
2. âœ… **Ø¨Ø±Ø±Ø³ÛŒ slug**: Ø§Ú¯Ø± slug Ù‚Ø¨Ù„Ø§Ù‹ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ Ø®Ø·Ø§ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
3. âœ… **Normalize ØªØµÙˆÛŒØ±**: URL ØªØµÙˆÛŒØ± Ø¨Ù‡ÛŒÙ†Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
4. âœ… **Ø§ÛŒØ¬Ø§Ø¯ Ø±Ú©ÙˆØ±Ø¯**: Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¯Ø± MongoDB Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
5. âœ… **Ø´Ø§Ù…Ù„ ØªÚ¯â€ŒÙ‡Ø§ÛŒ Ù…Ø±ØªØ¨Ø·**: ØªÚ¯â€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨â€ŒØ´Ø¯Ù‡ Ù…ØªØµÙ„ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯

#### Ù¾Ø§Ø³Ø® Ù…ÙˆÙÙ‚:
```json
{
  "status": "success",
  "message": "Book created successfully",
  "data": {
    "id": "507f1f77bcf86cd799439011",
    "title": "Ø°Ù‡Ù† Ù…ÛŒÙ„ÛŒÙˆÙ†Ø± Ú©Ø±ÛŒÙ¾ØªÙˆ",
    "slug": "crypto-mindset",
    ...
    "createdAt": "2025-01-15T10:30:00Z",
    "updatedAt": "2025-01-15T10:30:00Z"
  }
}
```

---

## âœï¸ Ø¨Ø®Ø´ Ø¯ÙˆÙ…: ÙˆÛŒØ±Ø§ÛŒØ´ Ú©ØªØ§Ø¨

### ÙØ§ÛŒÙ„: `pishro2/app/api/admin/books/[id]/route.ts`

**End Point:** `PATCH /api/admin/books/:id`

#### ÙØ±Ø¢ÛŒÙ†Ø¯ ÙˆÛŒØ±Ø§ÛŒØ´:
1. âœ… **ØªØ§ÛŒÛŒØ¯ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª**: ÙÙ‚Ø· admin
2. âœ… **Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯**: Ø¢ÛŒØ§ Ú©ØªØ§Ø¨ Ø¨Ø§ Ø§ÛŒÙ† ID Ù…ÙˆØ¬ÙˆØ¯ Ø§Ø³ØªØŸ
3. âœ… **Ø¨Ø±Ø±Ø³ÛŒ Ù…Ù†Ø­ØµØ± Ø¨ÙˆØ¯Ù† slug**: Ø§Ú¯Ø± slug ØªØºÛŒÛŒØ± ÛŒØ§ÙØªØŒ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯
4. âœ… **Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ÛŒ**: ÙÙ‚Ø· ÙÛŒÙ„Ø¯â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
5. âœ… **Ø«Ø¨Øª updatedAt**: Ø²Ù…Ø§Ù† Ø¢Ø®Ø±ÛŒÙ† ÙˆÛŒØ±Ø§ÛŒØ´ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ù‡â€ŒØ±ÙˆØ² Ù…ÛŒâ€ŒØ´ÙˆØ¯

#### Ø¯Ø±Ø®ÙˆØ§Ø³Øª ÙˆÛŒØ±Ø§ÛŒØ´:
```json
{
  "title": "Ø°Ù‡Ù† Ù…ÛŒÙ„ÛŒÙˆÙ†Ø± Ú©Ø±ÛŒÙ¾ØªÙˆ - Ù†Ø³Ø®Ù‡ Ø¨Ù‡ØªØ±",
  "description": "ØªÙˆØ¶ÛŒØ­ Ø¬Ø¯ÛŒØ¯...",
  "price": 200000,
  "isFeatured": false
}
```

---

## ğŸ“± Ø¨Ø®Ø´ Ø³ÙˆÙ…: Ù†Ù…Ø§ÛŒØ´ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ Ø¯Ø± Ø³Ø§ÛŒØª Ø§ØµÙ„ÛŒ

### Ù…Ø³ÛŒØ± Ø¬Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§:

```
Ú©Ø§Ø±Ø¨Ø±
  â†“
ØµÙØ­Ù‡ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ (libraryContent)
  â†“
Hook: useBooksList
  â†“
API: /api/library (GET)
  â†“
Service: getBooks()
  â†“
Database Query (Prisma)
  â†“
MongoDB - DigitalBook Collection
  â†“
Ù¾Ø§Ø³Ø® JSON
  â†“
Component: BookGrid / FeaturedRow
  â†“
Ù†Ù…Ø§ÛŒØ´ Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø±
```

### 1ï¸âƒ£ ØµÙØ­Ù‡ Ù†Ù…Ø§ÛŒØ´ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§

**ÙØ§ÛŒÙ„:** `pishro2/app/(routes)/library/page.tsx`

```tsx
â†’ Ø§Ø®ØªÛŒØ§Ø± Ø¯Ù‡ÛŒ Ø¨Ù‡: libraryContent
```

**ÙØ§ÛŒÙ„:** `pishro2/components/library/libraryContent.tsx`

```tsx
// Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Hook Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
const { data: booksData, isLoading } = useBooksList({
  page: 1,
  limit: 100,
});

// Ø§Ú¯Ø± API Ù…ÙˆÙÙ‚ Ù†Ø¨ÙˆØ¯ØŒ Ø§Ø² mock data Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯
const books = booksData?.items ?? libraryBooks;
```

### 2ï¸âƒ£ API Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª Ú©ØªØ§Ø¨â€ŒÙ‡Ø§

**ÙØ§ÛŒÙ„:** `pishro2/app/api/library/route.ts`

**End Point:** `GET /api/library?page=1&limit=12&category=Ø§Ø±Ø² Ø¯ÛŒØ¬ÛŒØªØ§Ù„&search=Ú©Ø±ÛŒÙ¾ØªÙˆ`

#### Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ÛŒ Query:
| Ù¾Ø§Ø±Ø§Ù…ØªØ± | Ù†ÙˆØ¹ | Ù†Ù…ÙˆÙ†Ù‡ |
|--------|-----|-------|
| `page` | number | 1 |
| `limit` | number | 12 |
| `category` | string | "Ø§Ø±Ø² Ø¯ÛŒØ¬ÛŒØªØ§Ù„" |
| `format` | string | "Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©ÛŒ" |
| `search` | string | "Ú©Ø±ÛŒÙ¾ØªÙˆ" |
| `sort` | enum | "newest", "rating", "popular" |
| `featured` | boolean | true |

#### ÙØ±Ø¢ÛŒÙ†Ø¯ Ø¬Ø³ØªØ¬Ùˆ:
```
Query Parameters
  â†“
Build WHERE clause (Prisma)
  â†“
Filters:
  - Text search (title, author, description, publisher)
  - Category filter
  - Format filter
  - Featured only
  â†“
Build ORDER BY clause
  â†“
Sorting options:
  - newest: createdAt DESC
  - rating: rating DESC
  - popular: views DESC
  - downloads: downloads DESC
  â†“
LIMIT & SKIP (Pagination)
  â†“
Return Paginated Results
```

#### Ù¾Ø§Ø³Ø®:
```json
{
  "status": "success",
  "data": {
    "items": [
      {
        "id": "507f1f77bcf86cd799439011",
        "title": "Ø°Ù‡Ù† Ù…ÛŒÙ„ÛŒÙˆÙ†Ø± Ú©Ø±ÛŒÙ¾ØªÙˆ",
        "slug": "crypto-mindset",
        "author": "Ø¢Ø±Ù…Ø§Ù† ØµÙÙˆÛŒ",
        "cover": "/uploads/crypto.jpg",
        "category": "Ø§Ø±Ø² Ø¯ÛŒØ¬ÛŒØªØ§Ù„",
        "rating": 9.2,
        "views": 1250,
        "downloads": 450,
        ...
      }
    ],
    "total": 45,
    "page": 1,
    "limit": 12,
    "totalPages": 4
  }
}
```

### 3ï¸âƒ£ Ø¯Ø±ÛŒØ§ÙØª Ø¬Ø²Ø¦ÛŒØ§Øª ÛŒÚ© Ú©ØªØ§Ø¨

**ÙØ§ÛŒÙ„:** `pishro2/app/(routes)/library/[slug]/page.tsx`

```tsx
// 1. Ø¯Ø±ÛŒØ§ÙØª Ú©ØªØ§Ø¨ Ø¨Ø§ slug
const book = await prisma.digitalBook.findUnique({
  where: { slug },
  select: { id: true },
});

// 2. Ø§Ú¯Ø± Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯ â†’ notFound()
// 3. Ø§Ú¯Ø± Ù¾ÛŒØ¯Ø§ Ø´Ø¯ â†’ Ø§Ù†ØªÙ‚Ø§Ù„ ID Ø¨Ù‡ Component

â†“

// Component: BookDetail
const { data: book, isLoading } = useBookDetail(bookId);
```

**API:** `GET /api/library/:id`

#### ÙØ±Ø¢ÛŒÙ†Ø¯:
1. âœ… Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ Ú©ØªØ§Ø¨ Ø¨Ø§ ID
2. âœ… Ø§ÙØ²Ø§ÛŒØ´ `views` counter
3. âœ… Ø¨Ø§Ø²Ú¯Ø´Øª ØªÙ…Ø§Ù… Ø¬Ø²Ø¦ÛŒØ§Øª Ú©ØªØ§Ø¨

#### Ù¾Ø§Ø³Ø®:
```json
{
  "status": "success",
  "data": {
    "id": "507f1f77bcf86cd799439011",
    "title": "Ø°Ù‡Ù† Ù…ÛŒÙ„ÛŒÙˆÙ†Ø± Ú©Ø±ÛŒÙ¾ØªÙˆ",
    "description": "...",
    "cover": "...",
    "fileUrl": "/uploads/books/crypto.pdf",
    "audioUrl": "/uploads/audio/crypto.mp3",
    "views": 1251,
    "downloads": 450,
    "rating": 9.2,
    ...
  }
}
```

### 4ï¸âƒ£ Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ Ú©ØªØ§Ø¨

**ÙØ§ÛŒÙ„:** `pishro2/app/api/library/[id]/download/[type]/route.ts`

**End Points:**
- `GET /api/library/:id/download/pdf` â†’ Ø¯Ø§Ù†Ù„ÙˆØ¯ PDF
- `GET /api/library/:id/download/cover` â†’ Ø¯Ø§Ù†Ù„ÙˆØ¯ ØªØµÙˆÛŒØ± Ø¬Ù„Ø¯
- `GET /api/library/:id/download/audio` â†’ Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ ØµÙˆØªÛŒ

---

## ğŸ”„ Ø¬Ø±ÛŒØ§Ù† Ú©Ø§Ù…Ù„ (Ø®Ù„Ø§ØµÙ‡ Ø´Ø¯Ù‡)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Ø³Ø§ÛŒØª Ø§Ø¯Ø§Ø±ÛŒ                            â”‚
â”‚              (pishro-admin2)                           â”‚
â”‚  - ÙØ±Ù… Ø§Ø¶Ø§ÙÙ‡/ÙˆÛŒØ±Ø§ÛŒØ´ Ú©ØªØ§Ø¨                              â”‚
â”‚  - Upload ØªØµØ§ÙˆÛŒØ±                                      â”‚
â”‚  - Ù…Ø¯ÛŒØ±ÛŒØª ØªÚ¯â€ŒÙ‡Ø§                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ POST/PATCH
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         API Ù¾Ù†Ù„ Ø§Ø¯Ø§Ø±ÛŒ                                  â”‚
â”‚   /api/admin/books (CREATE/UPDATE)                    â”‚
â”‚   - ØªØ§ÛŒÛŒØ¯ Ù†Ù‚Ø´ admin                                   â”‚
â”‚   - Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§                               â”‚
â”‚   - Ù†Ø±Ù…Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ ØªØµØ§ÙˆÛŒØ±                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          MongoDB Database                              â”‚
â”‚    DigitalBook Collection                              â”‚
â”‚    - ØªÙ…Ø§Ù… Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©ØªØ§Ø¨                               â”‚
â”‚    - Tags Relations                                   â”‚
â”‚    - Metadata                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         API Ø³Ø§ÛŒØª Ø§ØµÙ„ÛŒ                                  â”‚
â”‚   /api/library (GET + Filters)                        â”‚
â”‚   /api/library/:id (GET Details)                      â”‚
â”‚   - Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª                           â”‚
â”‚   - ÙÛŒÙ„ØªØ±ÛŒÙ†Ú¯ Ùˆ Ø¬Ø³ØªØ¬Ùˆ                                 â”‚
â”‚   - Ø§ÙØ²Ø§ÛŒØ´ counter views/downloads                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ GET
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Ø³Ø§ÛŒØª Ø§ØµÙ„ÛŒ                                    â”‚
â”‚           (pishro2)                                   â”‚
â”‚  - ØµÙØ­Ù‡ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡                                      â”‚
â”‚  - Ø¬Ø²Ø¦ÛŒØ§Øª Ú©ØªØ§Ø¨                                        â”‚
â”‚  - Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§                                     â”‚
â”‚  - Ù†Ù…Ø§ÛŒØ´ ØªØµØ§ÙˆÛŒØ± Ùˆ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¾ Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§

| Ø¨Ø®Ø´ | Ø¬Ø§ÛŒÚ¯Ø§Ù‡ | ØªÙˆØ¶ÛŒØ­ |
|-----|--------|--------|
| **Ù…ØªÙ† Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª** | MongoDB | Collection: `DigitalBook` |
| **ØªØµÙˆÛŒØ± Ø¬Ù„Ø¯** | Cloud Storage | Ù…Ø³ÛŒØ±: `/uploads/covers/` |
| **ÙØ§ÛŒÙ„ PDF** | Cloud Storage | Ù…Ø³ÛŒØ±: `/uploads/books/` |
| **ÙØ§ÛŒÙ„ ØµÙˆØªÛŒ** | Cloud Storage | Ù…Ø³ÛŒØ±: `/uploads/audio/` |
| **ØªÚ¯â€ŒÙ‡Ø§** | MongoDB | Collection: `Tag` (Related) |

---

## ğŸ” Ø³Ø·Ø­ Ø¯Ø³ØªØ±Ø³ÛŒ

| Ø¹Ù…Ù„ÛŒØ§Øª | Ø³Ø§ÛŒØª Ø§Ø¯Ø§Ø±ÛŒ | Ø³Ø§ÛŒØª Ø§ØµÙ„ÛŒ | Ø´Ø±Ø· |
|--------|-----------|----------|------|
| Ø§Ø¶Ø§ÙÙ‡ Ú©ØªØ§Ø¨ | âœ… | âŒ | Admin only |
| ÙˆÛŒØ±Ø§ÛŒØ´ Ú©ØªØ§Ø¨ | âœ… | âŒ | Admin only |
| Ø­Ø°Ù Ú©ØªØ§Ø¨ | âœ… | âŒ | Admin only |
| Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„ÛŒØ³Øª | âœ… (admin filter) | âœ… (public list) | Ù‡Ù…Ù‡ |
| Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª | âœ… | âœ… | Ù‡Ù…Ù‡ |
| Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ | âœ… | âœ… | Ù‡Ù…Ù‡ |

---

## ğŸ“Š Ù†Ù…ÙˆÙ†Ù‡ Workflow Ú©Ø§Ù…Ù„

### Ø³Ù†Ø§Ø±ÛŒÙˆ 1: Ù…Ø¯ÛŒØ± Ú©ØªØ§Ø¨ Ù†Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯

```
1. Ù…Ø¯ÛŒØ± â†’ Ù¾Ù†Ù„ Ø§Ø¯Ø§Ø±ÛŒ Ù¾ÛŒÙˆÙ†Ø¯ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
2. ÙØ±Ù… Ù¾Ø±Ú©Ø±Ø¯Ù† Ú©ØªØ§Ø¨ Ø±Ø§ Ù¾Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯
3. Ø¬Ù„Ø¯ØŒ PDFØŒ ØµÙˆØª Ø±Ø§ Ø¢Ù¾Ù„ÙˆØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
4. Ø¯Ú©Ù…Ù‡ "Ø°Ø®ÛŒØ±Ù‡" Ø±Ø§ Ù…ÛŒâ€ŒØ²Ù†Ø¯
   
   â†’ POST /api/admin/books
   â†’ MongoDB: Ù†ÙˆØ´ØªÙ† ÛŒÚ© Ø±Ú©ÙˆØ±Ø¯ Ø¬Ø¯ÛŒØ¯
   â†’ Response: Ù…ÙˆÙÙ‚ + Ú©ØªØ§Ø¨ ID
   
5. Ú©ØªØ§Ø¨ Ø§Ú©Ù†ÙˆÙ† Ø¢Ù†Ù„Ø§ÛŒÙ† Ø§Ø³Øª
6. Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ø¢Ù† Ø±Ø§ Ø¨Ø¨ÛŒÙ†Ù†Ø¯
```

### Ø³Ù†Ø§Ø±ÛŒÙˆ 2: Ú©Ø§Ø±Ø¨Ø± Ú©ØªØ§Ø¨ Ø±Ø§ Ø¬Ø³ØªØ¬Ùˆ Ù…ÛŒâ€ŒÚ©Ù†Ø¯

```
1. Ú©Ø§Ø±Ø¨Ø± â†’ Ø³Ø§ÛŒØª Ø§ØµÙ„ÛŒ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡
2. ÙÛŒÙ„ØªØ±: Ø¯Ø³ØªÙ‡ = "Ø§Ø±Ø² Ø¯ÛŒØ¬ÛŒØªØ§Ù„"
3. Ø³Ø±Ú†: "Ú©Ø±ÛŒÙ¾ØªÙˆ"
   
   â†’ GET /api/library?category=Ø§Ø±Ø² Ø¯ÛŒØ¬ÛŒØªØ§Ù„&search=Ú©Ø±ÛŒÙ¾ØªÙˆ
   â†’ Query MongoDB Ø¨Ø§ WHERE clause
   â†’ Pagination: ØµÙØ­Ù‡ 1ØŒ 12 Ú©ØªØ§Ø¨
   
4. Ù†ØªØ§ÛŒØ¬ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
5. Ø±ÙˆÛŒ ÛŒÚ© Ú©ØªØ§Ø¨ Ú©Ù„ÛŒÚ© Ù…ÛŒâ€ŒÚ©Ù†Ø¯
   
   â†’ GET /api/library/:id
   â†’ View +1
   
6. Ø¬Ø²Ø¦ÛŒØ§Øª Ú©ØªØ§Ø¨ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
7. Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø¯Ú©Ù…Ù‡ Ø±Ø§ Ù…ÛŒâ€ŒØ²Ù†Ø¯
   
   â†’ GET /api/library/:id/download/pdf
   â†’ ÙØ§ÛŒÙ„ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯
```

### Ø³Ù†Ø§Ø±ÛŒÙˆ 3: Ù…Ø¯ÛŒØ± Ú©ØªØ§Ø¨ Ø±Ø§ ÙˆÛŒØ±Ø§ÛŒØ´ Ù…ÛŒâ€ŒÚ©Ù†Ø¯

```
1. Ù…Ø¯ÛŒØ± â†’ Ø³Ø§ÛŒØª Ø§Ø¯Ø§Ø±ÛŒ
2. Ù„ÛŒØ³Øª Ú©ØªØ§Ø¨â€ŒÙ‡Ø§
3. Ø±ÙˆÛŒ Ú©ØªØ§Ø¨ "Ø°Ù‡Ù† Ù…ÛŒÙ„ÛŒÙˆÙ†Ø±" Ú©Ù„ÛŒÚ© Ù…ÛŒâ€ŒÚ©Ù†Ø¯
4. ÙØ±Ù… ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø± Ø´Ø¯Ù‡ Ø§Ø³Øª
5. Ù‚ÛŒÙ…Øª Ø±Ø§ Ø§Ø² 150000 Ø¨Ù‡ 200000 ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
6. Ø¯Ø³ØªÙ‡ Ø±Ø§ ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
7. Ø¯Ú©Ù…Ù‡ "Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ" Ø±Ø§ Ù…ÛŒâ€ŒØ²Ù†Ø¯
   
   â†’ PATCH /api/admin/books/:id
   â†’ MongoDB: Update Ø±Ú©ÙˆØ±Ø¯ (ÙÙ‚Ø· ÙÛŒÙ„Ø¯â€ŒÙ‡Ø§ÛŒ ØªØºÛŒÛŒØ± ÛŒØ§ÙØªÙ‡)
   â†’ updatedAt Ø®ÙˆØ¯Ú©Ø§Ø± ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯
   
8. ØªØºÛŒÛŒØ±Ø§Øª Ø¨Ù„Ø§ÙØ§ØµÙ„Ù‡ Ø¯Ø± Ø³Ø§ÛŒØª Ø§ØµÙ„ÛŒ Ù…Ø±Ø¦ÛŒ Ø§Ø³Øª
```

---

## ğŸ¯ Ù†Ú©Ø§Øª Ù…Ù‡Ù…

1. **Slug Ù…Ù†Ø­ØµØ± Ø§Ø³Øª**: Ù‡Ø± Ú©ØªØ§Ø¨ ÛŒÚ© URL Ù…Ù†Ø­ØµØ± Ø¯Ø§Ø±Ø¯
2. **Views Ø±Ø¯Ú¯ÛŒØ±ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯**: Ù‡Ø± Ø¨Ø§Ø± Ú©Ù‡ Ú©ØªØ§Ø¨ Ø¯ÛŒØ¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ counter Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯
3. **Pagination**: Ø¨Ø±Ø§ÛŒ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¨Ù‡ØªØ±ØŒ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯
4. **Filtering**: Ø§Ø² Ø³Ù…Øª Ø³Ø±ÙˆØ± (MongoDB) Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯
5. **Cache**: React Query Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (10 Ø¯Ù‚ÛŒÙ‚Ù‡)
6. **Soft vs Hard Delete**: Ø­Ø°Ù Ú©ØªØ§Ø¨ØŒ Ø³Ø®Øª Ùˆ Ú©Ø§Ù…Ù„ Ø§Ø³Øª

---

## ğŸš€ Ø¨Ù‡Ø¨ÙˆØ¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡

- [ ] Soft Delete Ø¨Ø±Ø§ÛŒ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§
- [ ] Version Control Ø¨Ø±Ø§ÛŒ ÙˆÛŒØ±Ø§ÛŒØ´â€ŒÙ‡Ø§
- [ ] Audit Log Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ±Ø§Øª
- [ ] Backup ØªØµØ§ÙˆÛŒØ±
- [ ] CDN Ø¨Ø±Ø§ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯
- [ ] Search Index (ElasticSearch)
